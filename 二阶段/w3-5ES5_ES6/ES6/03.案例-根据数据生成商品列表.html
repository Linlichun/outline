<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03.案例-根据数据生成商品列表</title>
    <style>
        ul{list-style: none;padding:0;margin:0;}
        #goodslist{overflow:hidden}
        #goodslist li{
            float:left;
            padding:10px;
        }
        #goodslist img{width:200px;height:200px;}
        #goodslist .price del{color:#999;margin-right:5px;}
        #goodslist .price span{color:#f00;}
        #goodslist .price span::before,#goodslist .price del::before{
            content:"￥"
        }
    </style>
</head>

<body>
    <h1>03.案例-根据数据生成商品列表</h1>

    <ul id="goodslist">

    </ul>
    <script>
        /**
            * 03.案例-根据数据生成商品列表
         */

         var goodslist = document.getElementById('goodslist');
        var data = [{
            id: '001',
            name: 'iphone7 plugs',
            imgurl: 'img/m0.jpg',
            price: 5899.00,
            sale: 5888.00,
            color: '土豪金',
            sales:180
        }, {
            id: '002',
            name: 'Note7',
            imgurl: 'img/m1.jpg',
            price: 3899.00,
            sale: 998.00,
            color: '黑色',
            sales:15
        }, {
            id: '003',
            name: '荣耀7',
            imgurl: 'img/m2.jpg',
            price: 1999.00,
            sale: 1899.00,
            color: '白色',
            sales:10803
        }, {
            id: '004',
            name: '耗子尾汁',
            imgurl: 'img/m3.jpg',
            price: 19.00,
            sale: 3.50,
            color: '黑色',
            sales:280
        }, {
            id: '005',
            name: '螺蛳粉',
            imgurl: 'img/m4.jpg',
            price: 18.00,
            sale: 8.00,
            color: '白色',
            sales:21290
        }, {
            id: '006',
            name: '隆江猪脚饭',
            imgurl: 'img/m5.jpg',
            price: 12.00,
            sale: 10.00,
            color: '棕色',
            sales:12920
        }];

        // var html = '';
        // for(var i=0;i<data.length;i++){
        //     html += '<li>'
        //     html += '<img src="'+data[i].imgurl+'" />'
        //     html += '<h4>' + data[i].name + '</h4>'
        //     html += '<p class="price"><del>' + data[i].price.toFixed(2) + '</del><span>'+data[i].sale.toFixed(2)+'</span></p>'
        //     html += '<p>颜色：'+data[i].color+'</p>'
        //     html += '</li>'
        // }

        // map: 遍历数组，返回一个新的数组（数组元素的值取决于函数返回值）
        var result = data.map(function(item){
            // var html = '';
            // html += '<li>'
            // html += '<img src="'+item.imgurl+'" />'
            // html += '<h4>' + item.name + '</h4>'
            // html += '<p class="price"><del>' + item.price.toFixed(2) + '</del><span>'+item.sale.toFixed(2)+'</span></p>'
            // html += '<p>颜色：'+item.color+'</p>'
            // html += '</li>';

            // 模板字符串实现html结构
            return `<li>
                <img src="${item.imgurl}" />
                <h4>${item.name}</h4>
                <p class="price"><del>${item.price.toFixed(2)}</del><span>${item.sale.toFixed(2)}</span></p>
                <p>颜色：${item.color}</p>
            </li>`
        })
        console.log('result',result);
        goodslist.innerHTML = result.join('');
    </script>
</body>

</html>