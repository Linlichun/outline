<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>02.名单过滤</title>
    <style>
        .namelist{
            list-style:none;padding:0;margin:0;
            display: none;
            border:1px solid #ddd;
            padding:2px;
            position: absolute;
            background-color: #fff;
            max-height:200px;
            overflow:auto
        }
        .namelist li{padding:5px 10px;border-bottom:1px solid #ddd;}
    </style>
</head>
<body>
    <h1>02.名单过滤</h1>
    <input type="text" id="username" />
    <p>asdfasdfds</p>
    <ul class="namelist">

    </ul>
    <script src="lib/jquery3.5.1.js"></script>
    <script>
        jQuery($=>{
            var namelist  = ['郭琪龙','罗稀金','李健豪','黄海','黄国昌','靳思娴','韦尚彬','罗跃','梁昊阳','吴晓蓉','高桂宁','龙飞天','王业亮','黄健鹏','王翠萍','林炜堂','刘冲','史厚成','雷海棠','黄春丽','陈锦华','黄富','杨贵兴','柯舒仁','张森辉','林明敏','罗嘉敏','陈芳林','黄业聪','杨丽颖','邹洋','刘广铭','林佳源','秦瑶','陆成旦','罗梓胜','潘光通','郭子铭','林丽纯','丘子森','杨丽军','吴彤博','邓智钊','黄治武','胡鑫','郭飞','覃现华','张地长','刘传深','朱文豪','钟健','吴之赛','夏梓键','蹇旭','杨辉','杨才钦','李粤','兰善林','林洋','许婷'];
            let html = namelist.map(item=>`<li>${item}</li>`)
            $('.namelist').html(html);

            // 设置li宽度与输入框一致
            // $('.namelist').width($('#username').outerWidth())
            $('.namelist').css({
                width:$('#username').outerWidth(),
                left:$('#username').position().left,
                top:$('#username').position().top + $('#username').outerHeight()+5
            });


            // 获得焦点时显示，失去焦点时隐藏
            $('#username').on('focus',(e)=>{
                
                $('.namelist').show();
                return false;
            }).on('blur',(e)=>{
                $('.namelist').hide();
            }).on('input',()=>{
                // 获取输入框的值
                let _username = $('#username').val();
                let html = namelist.filter(item=>item.includes(_username)).map(item=>`<li>${item}</li>`)
                $('.namelist').html(html);
            })
        });


            
        </script>
</body>
</html>